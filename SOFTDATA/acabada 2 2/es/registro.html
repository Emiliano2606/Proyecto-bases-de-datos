<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" , user-scalable="no">
    <title>SoftData</title>
    <link rel="icon" href="../img/Capturegfhfghfgh-removebg-preview.png">

    <!-- GOOGLE FONT -->
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css">
    <script src="https://cdn.jsdelivr.net/npm/glider-js@1.7.7/glider.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../main.js"></script>
    <script src="../main3.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1.7.3/glider.min.css">

    <!-- BOOTSTRAP 4 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous">
    </script>
    <!-- SCROOLL REVEAL JS LIBRARY CDN -->
    <script src="https://unpkg.com/scrollreveal/dist/scrollreveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1.7.3/glider.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glider-js@1.7.3/glider.min.css">
    <link rel="stylesheet" href="css/estilos.css">
    <!-- CUSTOM CSS -->
    <link rel="stylesheet" href="../css/estilos.css">

</head>

<body>





    <style>
        .sexo {
            font-size: 18px;
            font-weight: 600;
            color: #000000;
            position: relative;
            right: 402px;
        }
        
        .sexo2 {
            font-size: 18px;
            font-weight: 600;
            color: #000000;
            position: relative;
            right: 318px;
        }
        
        .sexo3 {
            font-size: 18px;
            font-weight: 600;
            color: #000000;
            position: relative;
            text-align: left;
            margin-left: 89px;
        }
    </style>
    <section id="registro" class="pt-5">
        <div class="container">
            <div class="row mt-5">
                <div class="col-md-12">
                    <div class="info-left text-center">
                        <h2 class="tu">Registro de Dueño</h2>
                        <form action="" method="POST">

                            <!-- Nombre -->
                            <input class="namee mt-2" type="text" name="nombre" required placeholder="Nombre del Dueño *"><br>

                            <!-- Apellidos -->
                            <input class="namee mt-2" type="text" name="apellido1" required placeholder="Primer Apellido *"><br>
                            <input class="namee mt-2" type="text" name="apellido2" required placeholder="Segundo Apellido *"><br>

                            <!-- Sexo -->
                            <p class="  mt-3 sexo">Sexo del Dueño *</p>
                            <select class="namee mt-2" name="procedencia">
              <option value="Adopción">Hombre</option>
              <option value="Compra">Mujer</option>

            </select><br>

                            <!-- Fecha de nacimiento -->
                            <input class="namee mt-2" type="date" name="fecha_nacimiento" required placeholder="Fecha de nacimiento *"><br>

                            <!-- Cómo llegó la mascota -->
                            <p class="mt-3 sexo2">Su mascota llegó a su hogar mediante...</p>
                            <select class="namee mt-2" name="procedencia">
              <option value="Adopción">Adopción</option>
              <option value="Compra">Compra</option>
              <option value="Rescate">Rescate de calle</option>
              <option value="Nacido">Nacido en casa</option>
              <option value="Regalo">Regalo</option>
            </select><br>

                            <!-- Teléfonos -->
                            <input class="namee mt-2" type="tel" name="telefono" required placeholder="Teléfono principal *"><br>
                            <input class="namee mt-2" type="tel" name="telefono_emergencia" required placeholder="Teléfono de emergencia *"><br>

                            <!-- Tipo de hogar -->

                            <style>
                                .keukol {
                                    position: relative;
                                    right: 380px;
                                }
                            </style>
                            <form id="direccionForm">
                                <p class="mt-3 sexo3">Código Postal</p>
                                <input class="namee mt-2" type="text" name="cp" id="codigo_postal" required placeholder="Ej: 06700" maxlength="5"><br>

                                <p class="mt-3 sexo3">Estado</p>
                                <input class="namee mt-2" type="text" name="estado" id="estado" required placeholder="Estado" readonly><br>

                                <p class="mt-3 sexo3">Municipio</p>
                                <input class="namee mt-2" type="text" name="municipio" id="municipio" required placeholder="Municipio" readonly><br>

                                <p class="mt-3 sexo3">Colonia</p>
                                <select class="namee mt-2" name="colonia" id="colonia" required disabled>
    <option value="">-- Seleccione Colonia --</option>
  </select><br>

                                <p class="mt-3 sexo3">Calle</p>
                                <input class="namee mt-2" type="text" name="calle" id="calle_mascota" required placeholder="Ej: Av. Reforma"><br>

                                <p class="mt-3 sexo3">Número exterior</p>
                                <input class="namee mt-2" type="text" name="numero_exterior" id="numero_exterior" required placeholder="Ej: 73"><br>

                                <p class="mt-3 sexo3">Número interior / Torre / Depto / Piso</p>
                                <input class="namee mt-2" type="text" name="numero_interior" id="numero_interior" placeholder="Ej: C3, PH 304"><br>

                                <p class="mt-3 sexo3">Referencias / Observaciones</p>
                                <textarea class="namee mt-2" name="referencias" id="referencias" rows="3" placeholder="Ej: Al lado de la fachada azul, puerta verde"></textarea><br>

                                <p id="direccion_final" class="sexo3 mt-3" style="margin-top: 20px;">Dirección seleccionada:</p>

                                <!-- Botón -->
                                <a href="registro_mascota.html" class="sape p-2 mt-3 d-none d-sm-inline-block">Registrarse</a>
                                <a href="registro_mascota.html" class="sape2 p-2 mt-3 d-sm-none">Registrarse</a>

                                <br>
                                <br>



                            </form>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cpInput = document.getElementById('codigo_postal');
            const estadoInput = document.getElementById('estado');
            const municipioInput = document.getElementById('municipio');
            const coloniaSelect = document.getElementById('colonia');
            const calleInput = document.getElementById('calle_mascota');
            const numeroExteriorInput = document.getElementById('numero_exterior');
            const numeroInteriorInput = document.getElementById('numero_interior');
            const referenciasInput = document.getElementById('referencias');
            const direccionFinal = document.getElementById('direccion_final');

            let cpData = [];

            // Cargar JSON
            fetch('../cp.json')
                .then(response => response.json())
                .then(data => {
                    cpData = data;
                    console.log('Datos de CP cargados');
                })
                .catch(err => console.error('Error cargando JSON:', err));

            // Función para buscar CP
            function buscarCP(cp) {
                cp = cp.trim();
                if (cp.length !== 5 || isNaN(cp)) {
                    alert('Ingresa un Código Postal válido de 5 dígitos');
                    return;
                }

                const resultado = cpData.find(item => item.cp === cp);
                if (resultado) {
                    estadoInput.value = resultado.estado;
                    municipioInput.value = resultado.municipio;

                    // Llenar select de colonias
                    coloniaSelect.innerHTML = '<option value="">-- Seleccione Colonia --</option>';
                    resultado.colonias.forEach(col => {
                        const opt = document.createElement('option');
                        opt.value = col;
                        opt.textContent = col;
                        coloniaSelect.appendChild(opt);
                    });
                    coloniaSelect.disabled = false;

                    // Seleccionar la primera colonia automáticamente
                    if (resultado.colonias.length > 0) {
                        coloniaSelect.value = resultado.colonias[0];
                    }
                } else {
                    estadoInput.value = '';
                    municipioInput.value = '';
                    coloniaSelect.innerHTML = '<option value="">-- Colonia no disponible --</option>';
                    coloniaSelect.disabled = true;
                }

                actualizarDireccion();
            }

            // Función para actualizar la dirección final
            function actualizarDireccion() {
                const numeroExterior = numeroExteriorInput.value.trim();
                const numeroInterior = numeroInteriorInput.value.trim();

                let direccion = `Calle ${calleInput.value}, No. ${numeroExterior}`;
                if (numeroInterior) {
                    direccion += `, Int./Cto./Depto.: ${numeroInterior}`;
                }

                direccion += `, Colonia: ${coloniaSelect.value}, ${municipioInput.value}, ${estadoInput.value}, CP: ${cpInput.value}`;

                if (referenciasInput && referenciasInput.value.trim() !== '') {
                    direccion += `, Referencias: ${referenciasInput.value.trim()}`;
                }

                direccionFinal.textContent = `Dirección seleccionada: ${direccion}`;
            }

            // Event listeners
            cpInput.addEventListener('blur', () => buscarCP(cpInput.value));
            coloniaSelect.addEventListener('change', actualizarDireccion);
            calleInput.addEventListener('input', actualizarDireccion);
            numeroExteriorInput.addEventListener('input', actualizarDireccion);
            numeroInteriorInput.addEventListener('input', actualizarDireccion);
            if (referenciasInput) referenciasInput.addEventListener('input', actualizarDireccion);
        });
    </script>







</body>



</html>